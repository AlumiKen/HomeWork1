@model homework1.Models.客戶資料

@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>

<div>
    <h4>客戶資料</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.客戶名稱)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.客戶名稱)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.統一編號)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.統一編號)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.電話)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.電話)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.傳真)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.傳真)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.地址)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.地址)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Email)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Email)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Account)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Account)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.客戶分類.客戶分類名稱)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.客戶分類.客戶分類名稱)
        </dd>

    </dl>
</div>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.Id }) |
    @Html.ActionLink("Back to List", "Index")
</p>


@*@{
    Html.RenderAction("客戶聯絡人partialView", "客戶聯絡人", new { id = Model.Id });
}*@

@using (Html.BeginForm("Details", "客戶資料"))
{
    if (Model.客戶聯絡人.Any())
    {
        <table class="table">
            @{
                homework1.Models.客戶聯絡人[] data = Model.客戶聯絡人.ToArray();
            }

            @if (data.Length > 0)
            {
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => data[0].職稱)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => data[0].姓名)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => data[0].Email)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => data[0].手機)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => data[0].電話)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => data[0].客戶資料.客戶名稱)
                    </th>
                    <th></th>
                </tr>
            }


            @for (int i = 0; i < data.Length; i++)
            {
                @Html.HiddenFor(modelItem => data[i].Id)
                <tr>
                    <td>
                        @Html.EditorFor(modelItem => data[i].職稱)
                        @Html.ValidationMessageFor(modelItem => data[i].職稱, "", new { @class = "text-danger" })
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => data[i].姓名)                        
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => data[i].Email)                        
                    </td>
                    <td>
                        @Html.EditorFor(modelItem => data[i].手機)
                        @Html.ValidationMessageFor(modelItem => data[i].手機, "", new { @class = "text-danger" })
                    </td>
                    <td>
                        @Html.EditorFor(modelItem => data[i].電話)
                        @Html.ValidationMessageFor(modelItem => data[i].電話, "", new { @class = "text-danger" })
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => data[i].客戶資料.客戶名稱)                        
                    </td>
                </tr>
            }

        </table>
        <input type="submit" value="批次更新" />
    }
}

@section breadcrumb{
    <li>
        <a href="@Url.Action("Index", "客戶資料")">客戶資料</a><i class="icon-angle-right"></i>
    </li>
    <li><a href="@Url.Action("Details", "客戶資料")">客戶詳細資料</a></li>
}